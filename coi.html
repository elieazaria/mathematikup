<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sommet de la COI - Exercice de D√©nombrement</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        coiBlue: '#0f4c81',
                        coiLight: '#ebf4fa',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-100 to-blue-200 min-h-screen p-4 md:p-8 font-sans">
    <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <header class="bg-coiBlue text-white p-6 rounded-t-2xl shadow-lg relative overflow-hidden">
            <div class="absolute top-0 right-0 opacity-10 text-9xl font-bold transform translate-x-4 -translate-y-4">COI</div>
            <h1 class="text-3xl font-bold mb-3 relative z-10">Sommet de la Commission de l'Oc√©an Indien</h1>
            <p class="text-blue-100 text-sm mb-4 relative z-10">Exercice de Math√©matiques : D√©nombrement et Arrangements</p>
            
            <div class="flex gap-2 justify-start items-end relative z-10">
                <img src="https://flagcdn.com/w80/km.png" alt="Comores" class="h-10 rounded shadow-md hover:scale-110 transition-transform">
                <img src="https://flagcdn.com/w80/fr.png" alt="France" class="h-10 rounded shadow-md hover:scale-110 transition-transform">
                <img src="https://flagcdn.com/w80/mg.png" alt="Madagascar" class="h-10 rounded shadow-md hover:scale-110 transition-transform">
                <img src="https://flagcdn.com/w80/mu.png" alt="Maurice" class="h-10 rounded shadow-md hover:scale-110 transition-transform">
                <img src="https://flagcdn.com/w80/sc.png" alt="Seychelles" class="h-10 rounded shadow-md hover:scale-110 transition-transform">
            </div>
        </header>

        <!-- Main Content -->
        <main class="bg-white p-6 md:p-8 rounded-b-2xl shadow-xl">
            
            <!-- √ânonc√© -->
            <section class="mb-8 text-gray-700 leading-relaxed border-l-4 border-coiBlue pl-4 py-2 bg-blue-50 rounded-r">
                <p class="mb-3">
                    Lors du sommet international organis√© l'ann√©e derni√®re, nous avons accueilli <strong>6 repr√©sentants</strong> (4 hommes et 2 femmes) provenant de diff√©rents pays voisins.
                </p>
                <p class="mb-3">
                    Le jour de l'ouverture, ces 6 repr√©sentants sont assis sur 6 chaises align√©es horizontalement.
                </p>
                <p class="text-sm text-gray-500 italic">
                    En tant qu'agents √©v√©nementiels charg√©s de l'organisation, d√©terminez le nombre de dispositions possibles selon les crit√®res suivants.
                </p>
            </section>

            <form id="summitForm" onsubmit="event.preventDefault(); checkAnswers();">
                
                <!-- Question 1 -->
                <div class="mb-8 group" id="block-q1">
                    <div class="flex items-start gap-3 mb-3">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-coiBlue text-white font-bold text-sm shrink-0">1</span>
                        <div>
                            <h3 class="font-semibold text-gray-900">Combien de dispositions diff√©rentes des 6 repr√©sentants sont possibles sur les 6 chaises ?</h3>
                            <p class="text-xs text-gray-500 mt-1">Aucune contrainte particuli√®re.</p>
                        </div>
                    </div>
                    <div class="pl-11">
                        <input type="number" id="q1" class="w-full md:w-1/2 p-3 rounded-lg border-2 border-gray-200 focus:border-coiBlue focus:ring-0 transition-colors outline-none" placeholder="Votre r√©ponse..." required />
                    </div>
                    <!-- Raisonnement Q1 -->
                    <div id="reason-q1" class="hidden mt-4 ml-11 p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm fade-in"></div>
                </div>

                <!-- Question 2 -->
                <div class="mb-8 group" id="block-q2">
                    <div class="flex items-start gap-3 mb-3">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-coiBlue text-white font-bold text-sm shrink-0">2</span>
                        <div>
                            <h3 class="font-semibold text-gray-900">Les hommes sont assis d'un c√¥t√© et les femmes de l'autre.</h3>
                            <p class="text-xs text-gray-500 mt-1">Exemple : HHHHFF ou FFHHHH.</p>
                        </div>
                    </div>
                    <div class="pl-11">
                        <input type="number" id="q2" class="w-full md:w-1/2 p-3 rounded-lg border-2 border-gray-200 focus:border-coiBlue focus:ring-0 transition-colors outline-none" placeholder="Votre r√©ponse..." required />
                    </div>
                    <!-- Raisonnement Q2 -->
                    <div id="reason-q2" class="hidden mt-4 ml-11 p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm fade-in"></div>
                </div>

                <!-- Question 3 -->
                <div class="mb-8 group" id="block-q3">
                    <div class="flex items-start gap-3 mb-3">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-coiBlue text-white font-bold text-sm shrink-0">3</span>
                        <div>
                            <h3 class="font-semibold text-gray-900">Chaque femme est intercal√©e entre deux hommes.</h3>
                            <p class="text-xs text-gray-500 mt-1">Aucune femme n'est √† une extr√©mit√©.</p>
                        </div>
                    </div>
                    <div class="pl-11">
                        <input type="number" id="q3" class="w-full md:w-1/2 p-3 rounded-lg border-2 border-gray-200 focus:border-coiBlue focus:ring-0 transition-colors outline-none" placeholder="Votre r√©ponse..." required />
                    </div>
                    <!-- Raisonnement Q3 -->
                    <div id="reason-q3" class="hidden mt-4 ml-11 p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm fade-in"></div>
                </div>

                <!-- Question 4 -->
                <div class="mb-8 group" id="block-q4">
                    <div class="flex items-start gap-3 mb-3">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-coiBlue text-white font-bold text-sm shrink-0">4</span>
                        <div>
                            <h3 class="font-semibold text-gray-900">Les deux femmes souhaitent rester c√¥te √† c√¥te.</h3>
                            <p class="text-xs text-gray-500 mt-1">Les femmes forment un bloc ins√©parable.</p>
                        </div>
                    </div>
                    <div class="pl-11">
                        <input type="number" id="q4" class="w-full md:w-1/2 p-3 rounded-lg border-2 border-gray-200 focus:border-coiBlue focus:ring-0 transition-colors outline-none" placeholder="Votre r√©ponse..." required />
                    </div>
                    <!-- Raisonnement Q4 -->
                    <div id="reason-q4" class="hidden mt-4 ml-11 p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm fade-in"></div>
                </div>

                <div class="flex flex-col items-center gap-4 mt-8 border-t pt-6">
                    <button type="submit" id="submitBtn" class="w-full md:w-auto bg-coiBlue hover:bg-blue-900 text-white px-10 py-3 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                        V√©rifier mes r√©ponses
                    </button>
                </div>
            </form>

            <!-- Global Result -->
            <div id="globalResult" class="hidden mt-6 text-center p-6 rounded-xl fade-in"></div>
        </main>
    </div>

    <script>
        // Donn√©es des r√©ponses correctes et des raisonnements
        const data = {
            q1: {
                answer: 720,
                reasoning: `<strong>‚úÖ R√©ponse correcte : 720</strong><br><br>
                    Il s'agit du nombre de permutations de 6 √©l√©ments distincts.<br>
                    Formule : <code class="bg-gray-200 px-1 rounded">n!</code><br>
                    Calcul : <code class="bg-gray-200 px-1 rounded">6! = 6 √ó 5 √ó 4 √ó 3 √ó 2 √ó 1 = 720</code>.`
            },
            q2: {
                answer: 96, // Correction par rapport au code original (288)
                reasoning: `<strong>‚úÖ R√©ponse correcte : 96</strong><br><br>
                    On s√©pare les groupes.<br>
                    1. On place le groupe des 4 hommes ensemble et le groupe des 2 femmes ensemble. Il y a 2 configurations possibles : (Hommes-Femmes) ou (Femmes-Hommes).<br>
                    2. √Ä l'int√©rieur du groupe des hommes, il y a <code class="bg-gray-200 px-1 rounded">4! = 24</code> fa√ßons de les arrangeer.<br>
                    3. √Ä l'int√©rieur du groupe des femmes, il y a <code class="bg-gray-200 px-1 rounded">2! = 2</code> fa√ßons de les arrangeer.<br>
                    Calcul total : <code class="bg-gray-200 px-1 rounded">2 √ó 24 √ó 2 = 96</code>.`
            },
            q3: {
                answer: 144,
                reasoning: `<strong>‚úÖ R√©ponse correcte : 144</strong><br><br>
                    Les femmes ne peuvent pas √™tre aux extr√©mit√©s.<br>
                    1. On place d'abord les 4 hommes. Il y a <code class="bg-gray-200 px-1 rounded">4! = 24</code> fa√ßons de les placer.<br>
                    2. Cela cr√©e 3 "vides" entre les hommes o√π les femmes peuvent s'asseoir (ex: H_F_H_F_H_H).<br>
                    3. On doit placer 2 femmes distinctes dans ces 3 places disponibles. C'est un arrangement de 3 places prises 2 par 2.<br>
                    Calcul des places femmes : <code class="bg-gray-200 px-1 rounded">3 √ó 2 = 6</code> (ou A(3,2)).<br>
                    Calcul total : <code class="bg-gray-200 px-1 rounded">24 √ó 6 = 144</code>.`
            },
            q4: {
                answer: 240,
                reasoning: `<strong>‚úÖ R√©ponse correcte : 240</strong><br><br>
                    On utilise la m√©thode du "bloc".<br>
                    1. On consid√®re les 2 femmes comme un seul "bloc" (ins√©parable).<br>
                    2. On a maintenant : le bloc Femmes + les 4 hommes = 5 entit√©s √† placer.<br>
                    3. Il y a <code class="bg-gray-200 px-1 rounded">5! = 120</code> fa√ßons de placer ces 5 entit√©s.<br>
                    4. √Ä l'int√©rieur du bloc femmes, elles peuvent √©changer leurs places : <code class="bg-gray-200 px-1 rounded">2! = 2</code> fa√ßons.<br>
                    Calcul total : <code class="bg-gray-200 px-1 rounded">120 √ó 2 = 240</code>.`
            }
        };

        function checkAnswers() {
            let score = 0;
            const questionIds = ['q1', 'q2', 'q3', 'q4'];

            questionIds.forEach(id => {
                const input = document.getElementById(id);
                const reasonDiv = document.getElementById(`reason-${id}`);
                const userAnswer = parseInt(input.value);
                const correctData = data[id];

                // R√©initialisation visuelle
                input.classList.remove('border-green-500', 'border-red-500', 'bg-green-50', 'bg-red-50');
                
                // V√©rification
                if (userAnswer === correctData.answer) {
                    score++;
                    input.classList.add('border-green-500', 'bg-green-50');
                } else {
                    input.classList.add('border-red-500', 'bg-red-50');
                }

                // Afficher le raisonnement
                reasonDiv.innerHTML = correctData.reasoning;
                reasonDiv.classList.remove('hidden');
                
                // Scroll doux vers le premier √©l√©ment faux si besoin (optionnel)
            });

            // Affichage du r√©sultat global
            const resultDiv = document.getElementById('globalResult');
            resultDiv.classList.remove('hidden');
            
            let message = "";
            if (score === 4) {
                resultDiv.className = "mt-6 text-center p-6 rounded-xl fade-in bg-green-100 border border-green-300";
                message = `<span class="text-4xl">üéâ</span><h3 class="text-xl font-bold text-green-800 mt-2">Excellent ! Parfait !</h3><p class="text-green-700">Vous avez r√©ussi toutes les √©preuves du sommet.</p>`;
            } else if (score >= 2) {
                resultDiv.className = "mt-6 text-center p-6 rounded-xl fade-in bg-yellow-50 border border-yellow-300";
                message = `<span class="text-4xl">üëç</span><h3 class="text-xl font-bold text-yellow-800 mt-2">Bon travail !</h3><p class="text-yellow-700">Score : ${score}/4. Consultez les raisonnements ci-dessous pour vous am√©liorer.</p>`;
            } else {
                resultDiv.className = "mt-6 text-center p-6 rounded-xl fade-in bg-red-50 border border-red-300";
                message = `<span class="text-4xl">üí™</span><h3 class="text-xl font-bold text-red-800 mt-2">Courage !</h3><p class="text-red-700">Score : ${score}/4. Analysez les solutions d√©taill√©es pour comprendre vos erreurs.</p>`;
            }
            
            resultDiv.innerHTML = message;

            // Changer le texte du bouton
            const btn = document.getElementById('submitBtn');
            btn.textContent = "Recommencer";
            btn.onclick = () => location.reload(); 
        }
    </script>
</body>
</html>